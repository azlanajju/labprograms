<!DOCTYPE html>
<html>
<head>
  <title>MCES lab programs</title
  
<script src="https://jsuites.net/v4/jsuites.js"></script>   
<link rel="stylesheet" href="https://jsuites.net/v4/jsuites.css" type="text/css" />
  <script src="https://kit.fontawesome.com/e7d02e2113.js" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Rubik+Dirt&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
     


    <!-- custom css file link  -->
    <link rel="stylesheet" href="/style1.css">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">  
</head>
<body>
  
  

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">
<i class="fa fa-close" style="font-size:36px"></i></a>
  <a href="https://azlanlive.netlify.app/">PROFILE</a>
  <a href="/index.html">PORTFOLIO</a>
  <a href="#">MY WORKS</a>
  <a href="#">Contact</a>

</div>


<span id="" style="font-size:30px;cursor:pointer" onclick="openNav()">
   <p id="">  <i class="fas fa-bars" style="font-size:36px;padding: 7px; background-color: ;  position: absolute; top: 0;"> 
   
   
   </i> </p>   
<p class="logo"> </p>
  
</span>
<div class="navbar">
  <a href="javascript:void(0)"  class="logo">
      
</a> 
</div>   <!--        
<center> 
<div class="image">
  <img src="lion.png" alt="lion" width="350px" > 
</div> </center> -->
<!-- lab program starts here-->
<div class="switch" >
  <div class="switch1">
    <a href="">MCES</a>
  </div>
  
  <div class="switch2">
    <a onclick="onn()" href="/daa.html">DAA <div id="overlay" ><div class="loader"></div></div></a>
  </div>
</div>
<div class="lab">
  <h1>MCES LAB</h1>
</div>
<br>
<div class="heading">
    1.  Write a program to multiply two 16 bit binary numbers..
  </div>
<div class="prog1">
  
  <textarea  name="" id="myInput" cols="90" rows="10">
 
AREA Program, CODE, READONLY
 			ENTRY
			 
			LDR 		R0, MEMORY 	
		 	LDRH 		R1, [R0]		
			LDRH		R2, [R0,#2]		
			MUL 		R2, R1, R2 		
			STRH 		R2, [R0,#4] 		
			SWI 		&11 			

 			
MEMORY			DCD 		0x40000000 

 			
 			END	

  
  </textarea>
  
  
</div>
<button class="texts-btn"  id="demo"
  
 onclick="myFunction8()" onmouseout="outFunc()"
 
 >
  select texts
  </button> 
  
<div class="heading">
    Conclusion:
This program performs a multiplication of two 16 bit binary numbers and the result is stored in memory location 0x40000000

  </div>
  <hr>

<!-- program 2-->
<br>
<div class="heading">
  2. Write a program to find the sum of first 10 integer numbers.
</div>
<div class="prog1">
 
  <textarea id="myInput1" name="" id="" cols="90" rows="10">
  AREA SQUARE,CODE,READONLY
ENTRY
	  MOV R0,#1
	  MOV R1,#10
	  MOV R2,#0
LOOP  ADD R2,R0,R2
      ADD R0,R0,#1
	  ADD R1,R1,#-1
	  CMP R1,#0
	  BNE LOOP
	  LDR R3,=RESULT
	  STR R2,[R3]
STOP  B STOP

	  AREA DATA1,DATA,READWRITE
RESULT DCD 0
      ALIGN
	  END

  </textarea>
  
  
</div>

<button id="demo1" class="texts-btn" onclick="myFunction7()" >
  select texts
  </button> 
<div class="heading">
  Conclusion:
This program performs the sum of first 10 integer numbers and the result is stored in memory location 0x40000000.

</div>
<hr>
<!-- .....3rd program........-->
<br>
<div class="heading">
  3. Write a program to find factorial of a number.
</div>
<div class="prog1">
 
  <textarea name="" id="myInput2" cols="90" rows="10">
                          AREA Program, CODE, READONLY
 			ENTRY

	 		LDR 	R0,LOOKUP 	        
			LDRB 	R1,[R0]		            
			MOV		R2,R1	            
UP			ADD		R1,R1,#-1			
			CMP 	R1,#0				
			BEQ		STORE				
			MUL		R3,R2,R1	
			MOV		R2,R3		
			B		UP	             
STORE		STR		R2,[R0,#4]	
 			SWI 		&11	             
			

LOOKUP 	DCD 	0X40000000     

			END

  </textarea>
  
  
</div>

<button  id="demo2" class="texts-btn" onclick="myFunction6()" >
  select texts
  </button> 
<div class="heading">
  Conclusion:
This program performs factorial of a number and the result is stored in memory location 0x40000000.

</div>
<hr>
<br>
  <!--    4th program    -->
<div class="heading">
  4. Write a program to add an array of 16 bit numbers and store the 32 bit result in internal RAM.
</div>
<div class="prog1">
 
  <textarea name="" id="myInput3" cols="90" rows="10">
    AREA prog4,CODE,READONLY
			ENTRY
			MOV R0,#6
			MOV R1,#0
			LDR R2,=VALUE
LOOP        LDR R3,[R2],#2
            LDR R4,MASK
			AND R3,R3,R4
			ADD R1,R1,R3
			SUB R0,R0,#1
			CMP R0,#0
			BNE LOOP
			LDR R5,=RESULT
			STR R1,[R5]
STOP B STOP
MASK DCD 0X0000FFFF
VALUE DCW 0X1111,0X2222,0X3333,0X4444,0X5555,0X8888

AREA DATA1,DATA,READWRITE
RESULT DCD 0
	        ALIGN
		    END

  </textarea>
  
  
</div>

<button  id="demo3" class="texts-btn" onclick="myFunction5()" >
  select texts
  </button> 
<div class="heading">
  

Conclusion:
This program performs addition of an array of 16 bit numbers and store the 32 bit result in internal RAM and the result is stored in memory location 0x40000000.




</div>
<hr>
<br>

  <!--    5th program    -->
<div class="heading">
  5. Write a program to find the square of a number (1-10) using look-up table
</div>
<div class="prog1">
 
  <textarea name="" id="myInput4" cols="90" rows="10">
    AREA SQUARE,CODE,READONLY
ENTRY
			LDR R0,=TABLE
			MOV R1,#7
			MOV R1,R1,LSL#2
			ADD R0,R0,R1
			LDR R2,[R0]
			LDR R3,=RESULT
			STR R2,[R3]
STOP B STOP
TABLE DCD 0X00000000
	  DCD 0X00000001
	  DCD 0X00000004
	  DCD 0X00000009
      DCD 0X00000016
	  DCD 0X00000025
	  DCD 0X00000036
	  DCD 0X00000049
	  DCD 0X00000064
	  DCD 0X00000081
	  DCD 0X00000100
	  

      AREA DATA1,DATA,READWRITE
RESULT DCD 0
      ALIGN
      END

  </textarea>
  
  
</div>

<button  id="demo4" class="texts-btn" onclick="myFunction4()" >
  select texts
  </button> 
<div class="heading">
  

Conclusion:
This program performs the function to find the square numbers and the result is stored in memory location 0x40000000.

</div>
<hr>
<br>
  <!--     6th program   -->

<div class="heading">
  6. Write a program to find the smallest or largest  number in an array.
</div>
<div class="prog1">
 
  <textarea name="" id="myInput5" cols="90" rows="10">
  AREA SMALLEST,CODE,READONLY
ENTRY
START
			MOV R5,#6
			LDR R1,=VALUE1
			LDR R2,[R1],#4
LOOP
            LDR R4,[R1],#4
			CMP R2,R4
            BLS LOOP1			


			MOV R2,R4
			
LOOP1 
            SUBS R5,R5,#1
			CMP R5,#0
			BNE LOOP
			
			LDR R4,=RESULT
			STR R2,[R4]
			
STOP B STOP

VALUE1
			DCD 0X44444444
			DCD 0X22222222
			DCD 0X11111111
			DCD 0X22222222
			DCD 0XAAAAAAAA
			DCD 0X88888888
			DCD 0X99999999
				
			AREA  DATA2,DATA,READWRITE
RESULT DCD 0
	END

  </textarea>
  
  
</div>

<button  id="demo5" class="texts-btn" onclick="myFunction3()" >
  select texts
  </button> 
<div class="heading">
  

Conclusion: this program performs finding the smallest or largest number in an array. and the result is stored in memory location 0x40000000.

</div>
<hr>
<br>
<div class="heading">
    <!--  7th program      -->
    
<div class="heading">
  7. Write a program to arrange series of 32 bits number in ascending or descending order. </div>
  
<div class="prog1">
 
  <textarea name="" id="myInput6" cols="90" rows="10">
 AREA ASCENDING,CODE,READONLY
ENTRY
			MOV R8,#4
			LDR R2,=CVALUE
			LDR R3,=DVALUE
LOOP0   
            LDR R1,[R2],#4
			STR R1,[R3],#4
			SUBS R8,R8,#1
			CMP R8,#0
			BNE LOOP0
			
SRART1      MOV R5,#3
			MOV R7,#0
			LDR R1,=DVALUE
			
LOOP
			LDR R2,[R1],#4
			LDR R3,[R1]
			CMP R2,R3
			BLT LOOP2
			STR R2,[R1],#-4
			STR R3,[R1]
			MOV R7,#1
			ADD R1,#4
			
LOOP2 		SUBS R5,R5,#1
			CMP R5,#0
  #####
  </textarea>
  
  
</div>

<button  id="demo6" class="texts-btn" onclick="myFunction2()" >
  select texts
  </button> 
<div class="heading">
  Conclusion:
This program performs the ascending or descending order of the number and the result is stored in memory location 0x40000000.

</div>
  <hr>
  <br>
  <!--    8th program    -->
  
  8. write a program to count number of ones and zeroes in 2 consecutive memory location.
</div>
<div class="prog1">
 
  <textarea name="" id="myInput7" cols="90" rows="10">
    

AREA ONEZERO, CODE, READONLY

                ENTRY

   START
               MOV R2, #0
               MOV R3, #0
               MOV R7, #2
               LDR   R6, =VALUE
LOOP     MOV R1, #32
               LDR R0, [R6], #4
LOOP0  MOV5  R0, R0 , LDR, #1
              BHI ONES
ZEROES  
               ADD R3, R3, #1
               B LOOP1
ONES     
               AND R2, R2, #1
LOOP1
               SUBS  R7, R7, #1
               CMP R7, #0
               BNE  LOOP
     STOP B STOP
          VALUE DCD 0X11111111
                END
              

  </textarea>
  
  
</div>

<button  id="demo7" class="texts-btn" onclick="myFunction1()" >
  select texts
  </button> 
  
<div class="heading">
  

Conclusion:
This program counts the number of ones and zeroes in 2 consecutive memory location.
</div>
<hr>
<br>
  <!--     9   -->
  <div class="heading">
9. Hello world using UART
</div>
<div class="prog1">
 
  <textarea name="" id="myInput11" cols="90" rows="10">

#include<lpc214x.h>
void initclock(void);
void inituart0(void);
void U0write(char data);
void send_string(char* stringptr);
char string[]=" hello world \n\r\n";
unsigned int delay;
int main(void)
{
	initclock();
	inituart0();
	{
	 send_string(string);
   for(delay=0;delay<500000;delay++);
	}
}
void inituart0(void)
{
	PINSEL0=0X5;
	U0LCR=0X83;
	U0DLL=110;
	U0DLM=1;
	U0FDR=0XF1;
	U0LCR &=0X0F;
}
void U0write(char data)
{
	while(!(U0LSR &(1<5)));
	U0THR=data;
}
void initclock(void)
{
	PLL0CON=0X01;
	PLL0CFG=0X24;
	PLL0FEED=0XAA;
	PLL0FEED=0X55;
	while(!(PLL0STAT & 0X00000040));
	PLL0CON=0X03;
	PLL0FEED=0XAA;
	PLL0FEED=0X55;
	VPBDIV=0X01;
}
void send_string(char*stringptr)
{
	while(*stringptr!=0x00)
	{
		U0write(*stringptr);
		stringptr++;
	}
}


#include <LPC214x.h>
char *msg = "hello world  ";

int main()
{
    PINSEL0 = 0X5;
    U0LCR = 0X83;
    U0DLM = 0X00;
    U0DLL = 0X61;
    U0LCR = 0X03;
    while (*msg != 0X00)
    {
        while (!(U0LSR & 0X20))
            ;
        U0THR = *msg;
        msg++;
    }
}







  </textarea>
  
  
</div>

<button  id="demo10" class="texts-btn" onclick="myFunction10()" >
  select texts
  </button> 
<div class="heading">
  

Conclusion:

</div>
<hr>
<br>
  <!--    10    -->
  <div class="heading">
10.  Stepper motor clockwise and anti clockwise
</div>
<div class="prog1">
 
  <textarea name="" id="myInput10" cols="90" rows="10">

#include<LPC214x.H>
#define CLK    0x00010000
#define ACLK   0x00020000
void delay(unsigned int count)
{
	int j=0,i=0;
	for(j=0;j<count;j++)
	{
		for(i=0;i<500;i++);
	}
}
int main(void)
{
	unsigned char run=1;
	IO1DIR=0x0F000000;
	PINSEL2=0x0;
	{
		while(1)
		{
			if(!(IO1PIN & CLK))
				run=1;
			if(!(IO1PIN & ACLK))
				run=0;
			if(run==1)
			{
				IO1PIN=0x01000000;
				delay(100);
				IO1PIN=0x02000000;
				delay(100);
				IO1PIN=0x04000000;
				delay(100);
				IO1PIN=0x08000000;
				delay(100);
			}
			else
				{
					IO1PIN=0x08000000;
				delay(100);
				IO1PIN=0x04000000;
				delay(100);
				IO1PIN=0x02000000;
				delay(100);
				IO1PIN=0x01000000;
				delay(100);
				}
			}
		}
	}
  </textarea>
  
  
</div>

<button  id="demo9" class="texts-btn" onclick="myFunction9()" >
  select texts
  </button> 
<div class="heading">
  

Conclusion: 

</div>
<hr>
<br>

  
  
    <!--     11   -->
<div class="heading">
  11. Interface  a DAC  and generate triangular wave form
</div>
<div class="prog1">
 
  <textarea name="" id="myInput9" cols="90" rows="10">
    
    
      <!--     11a   -->
      
      #include<LPC214x.H>
int Init_DAC()
{
	PINSEL1=0x000800000;
	DACR = 0;
}
int Write_DAC(unsigned int dacval)
{
	DACR = dacval<<6;
}

void delay(unsigned int count )
{
	int j=0,i=0;
	for(j=0;j<count;j++)
	{
		for(i=0;i<120;i++);
	}
}
  int main(void)
  {
	   Init_DAC();
	      while(1)
	       {
	       	Write_DAC(00);
					delay(100);
					Write_DAC(1023);
					delay(100);
				 }
	 }
      
        <!--   11b  -->
	  
	  
#include<LPC214x.H>
int Init_DAC()
{
	PINSEL1=0x00080000;
	DACR=0;
}
int Write_DAC(unsigned int dacval)
{
	DACR=dacval<<6;
}


int main(void)
{
	unsigned int i;
	Init_DAC();
	while(1)
	{
		for(i=0;i<1024;i++)
		Write_DAC(i);
		for(i=1023;i>0;i--)
		Write_DAC(i);
	}
}
  
      

  </textarea>
  
  
</div>

<button id="demo8" class="texts-btn" onclick="myFunction0()" >
  select texts
  </button> 
<div class="heading">
  
OUTPUT: Square and Triangular waves

</div>
<hr>
<br>
  <!--    12    -->
  <div class="heading">
  12. ADC, Analogue to digital convertor program
</div>
<div class="prog1">
 
  <textarea name="" id="myInput12" cols="90" rows="10">
    
   #include <LPC214x.H>                       /* LPC214x definitions */
#include <stdio.h>
#include "lcd.h"

//////////   Init ADC0  /////////////////
int Init_ADC()
{
  // Convert Port pin 0.28 to function as AD0.2
  PINSEL1 = 0X01000000;
}

//////////   READ ADC0 CH:2  /////////////////
unsigned int Read_ADC()
{
  unsigned int i=0;

		AD0CR = 0x00200D02;  //0x00200D04;
    AD0CR |= 0x01000000; // Start A/D Conversion
    
      do
      {
        i = AD0GDR; // Read A/D Data Register
      } while ((i & 0x80000000) == 0); // Wait for end of A/D Conversion
    
	return (i >> 6) & 0x03FF; // bit 6:15 is 10 bit AD value

}

//////////   DISPLAY ADC VALUE /////////////////
void Display_ADC()
{
 unsigned int adc_value = 0;
 char buf[4] = {4};
 float voltage = 0.0;

  	adc_value = Read_ADC();	
  	sprintf((char *)buf, "%3d", adc_value);
  	lcd_putstring16(0,"ADC VAL = 000   ");
  	lcd_gotoxy(0,10);
		lcd_putstring(buf);
}

//////////   MAIN /////////////////
int main (void) 
{
  init_lcd();
  Init_ADC();
  while(1)
  {
   	Display_ADC();
  	delay(50000);
  }
}
   

  </textarea>
  
  
</div>

<button id="demo11" class="texts-btn" onclick="myFunction11()" >
  select texts
  </button> 
<div class="heading">
  
OUTPUT: 

</div>
<hr>
<br>

  <!--   13     -->
<div class="heading">
  13. display 1 to F in a 7 segment display
</div>

<div class="prog1">
 
  <textarea name="" id="myInput13" cols="90" rows="10">
    
    #include <LPC214x.H>                       /* LPC214x definitions */
#define DIG2	           		(1 << 11)
//#define LED_DATA_MASK           0x007F8000
////////// digits are created using bit patterns corresponding to the segments ////////////////////
unsigned char dig[] = {0x88,0xeb,0x4c,0x49,0x2b,0x19,0x18,0xcb,0x8,0x9,0xa,0x38,0x9c,0x68,0x1c,0x1e};

/****************************************************************************
  Function Name : delay()
********************************************************************************/
void delay(unsigned int count)
{
  int j=0,i=0;

  for(j=0;j<count;j++)
  {
    for(i=0;i<120;i++);
  }
}
///////////////////////////////// MAIN  ///////////////////////////////////////
int main (void) 
{
unsigned char count=0;
unsigned short j=0;
unsigned short i=0;
unsigned char data ;
  IO0DIR |= (DIG2 );	//Set Digit control lines as Outputs
  IO0CLR = ( DIG2 );	//Clear Digit control lines
  while(1)
 {
		count++;
		if(count ==16) count = 0;

		for (i=0; i < 800; i++)	//change to inc/dec speed of count
		 {
		  IO0CLR = 0x007F8000;
			IO0SET = (dig[count] << 15);
			IO0DIR |= 0x007F8000; 
			
			IO0SET = DIG2;
			for (j=0;j<2000;j++);	//change to inc/dec brightness of display
			IO0CLR = DIG2;
		 }		
  }
}

  </textarea>
  
  
</div>

<button id="demo12" class="texts-btn" onclick="myFunction12()" >
  select texts
  </button> 
<div class="heading">
  
OUTPUT: Square and Triangular waves

</div>
<hr>
<br>
  <!--    if 14    -->

</body>
    




<!-- home section starts  -->

<footer >
  
  

<body>
    <div class="footer-clean">
        <footer>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-sm-4 col-md-3 item">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="https://wa.me/qr/PKFAHI7VTDX5K1">Web design</a></li>
                            <li><a href="https://wa.me/qr/PKFAHI7VTDX5K1">Development</a></li>
                            <li><a href="#">Hosting</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3>About</h3>
                        <ul>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Team</a></li>
                            <li><a href="#">Legacy</a></li>
                        </ul>
                    </div>
                    
                    <div class="col-lg-3 item social"><a href="https://wa.me/qr/PKFAHI7VTDX5K1"><i class="fa fa-whatsapp"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i class="icon ion-social-instagram"></i></a>
                        <p class="copyright"></p>Azlan @ 2022</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
</body>
 
</footer>
</html>




<script src="main.js"></script>


   
</body>
</html>


